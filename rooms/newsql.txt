ALTER TABLE `user_room` ADD `plan_status` BOOLEAN NULL AFTER `faculty_id`;
ALTER TABLE `user_room` ADD `plan_url` VARCHAR(255) NOT NULL AFTER `plan_status`;
ALTER TABLE `user_room` ADD `short_name` VARCHAR(25) NOT NULL AFTER `name`;
ALTER TABLE `user_room` ADD `supervisor` VARCHAR(25) NOT NULL AFTER `plan_url`;

UPDATE user_room set short_name=substr(`name`,LOCATE(' ', `name`));

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";

CREATE TABLE `inspections` (
  `id` int(11) NOT NULL,
  `room_id` int(11) NOT NULL,
  `datetime` date NOT NULL,
  `Q1` int(11) DEFAULT NULL,
  `Q2` int(11) DEFAULT NULL,
  `Q3` int(11) DEFAULT NULL,
  `Q4` int(11) DEFAULT NULL,
  `Q5` int(11) DEFAULT NULL,
  `Q6` int(11) DEFAULT NULL,
  `Q7` int(11) DEFAULT NULL,
  `Q8` int(11) DEFAULT NULL,
  `comments` text NOT NULL,
  `actions` text NOT NULL,
  `supervisor` varchar(255) NOT NULL,
  `inspector` varchar(255) NOT NULL,
  `status` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


ALTER TABLE `inspections`
  ADD UNIQUE KEY `id_2` (`id`),
  ADD KEY `id` (`id`);

ALTER TABLE `inspections`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;
COMMIT;




SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";



--
-- Database: `roombooking`
--

CREATE TABLE `inspection_questions` (
  `id` int(11) NOT NULL,
  `number` varchar(5) NOT NULL,
  `question` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `inspection_questions`
--

INSERT INTO `inspection_questions` (`id`, `number`, `question`) VALUES
(1, 'Q1', 'Have all individuals on site completed the online COVID-19 safety training module?'),
(2, 'Q2', 'Do all individuals know and follow the self-assessment protocol for the area (e.g., if applicable, the sign in sheet is being filled out)?'),
(3, 'Q3', 'Are the maximum occupancy limits posted and being followed?'),
(4, 'Q4', 'Are all individuals in the area maintaining adequate physical distancing?'),
(5, 'Q5', 'If physical distancing is not possible, are other measures in place (e.g., barriers, non-medical masks, etc.)?'),
(6, 'Q6', 'Do all individuals know and follow specific cleaning protocols for their area?'),
(7, 'Q7', 'Is the site Safety Plan posted?'),
(8, 'Q8', 'Are there any outstanding concerns/risks or inadequate measures (e.g., congestion areas, close contact, high touch areas)?');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `inspection_questions`
--
ALTER TABLE `inspection_questions`
  ADD UNIQUE KEY `id_2` (`id`),
  ADD KEY `id` (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `inspection_questions`
--
ALTER TABLE `inspection_questions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;
COMMIT;



